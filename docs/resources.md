## Config Resources

`imgpkg` introduces a few resources to enable working with a bundle.

### `.imgpkg` directory

Stores files with bundle information such as images referenced by the
bundle ([ImagesLock](#imageslock)) and metadata describing the bundle ([Bundle Metadata](#bundle-metadata)). 
Only one can exist per bundle and it will always be found at the top level.

```
.imgpkg/
  bundle.yml
  images.yml
```

### Bundle Metadata

Used by bundle creators to store general information about the bundle.

```yaml
apiVersion: imgpkg.carvel.dev/v1alpha1
kind: Bundle
metadata:
  name: my-app
authors:
- name: blah
  email: blah@example.com
websites:
- url: example.com
```

### BundleLock

Stores a deterministic reference to a bundle as well as the tag it was pushed with. These files are generated by imgpkg.

```yaml
apiVersion: imgpkg.carvel.dev/v1alpha1
kind: BundleLock
spec:
  image:
    url: docker.io/my-app@sha256:b12026c7a0a6a1756a82a2a74ac759e9a7036523faca0e33dbddebc214e097df
    tag: v1.0
```

### ImagesLock

An ImagesLock file is used to store image references. Bundles have an ImagesLock file containing the list of images referenced by the bundle.
When relocating a bundle, `imgpkg` uses the ImagesLock file to relocate dependent images based on their references.

Users can relocate a batch of images with an ImagesLock file and the `--lock` flag in a [`copy`](commands.md#copying-via-lock-files) command.
The ImagesLock file guarantees immutability when relocating its referenced images by referring to each image with a digest.

```yaml
apiVersion: imgpkg.carvel.dev/v1alpha1
kind: ImagesLock
spec:
  images:
  - image: docker.io/my-app@sha256:42462d0cb227497976754bb67348bdd7471c7bd159819d6bd63fdf479eb7eb19
    annotaions:
      kbld.carvel.dev/id: "my-app:v1"
  - image: docker.io/another-app@sha256:6ecba6f14373a449f8d54fa4286f57fb8ef37c4ffa637969551f2fda52672206
```
